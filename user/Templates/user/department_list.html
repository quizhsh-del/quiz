{% include 'uheader.html' %}

<!-- Page background -->
<div class="min-h-screen bg-violet-50 py-10">

<div class="max-w-5xl mx-auto bg-violet-100 p-6 rounded-2xl shadow-lg">

    <h2 class="text-2xl font-bold text-center mb-6 text-violet-900">
        Department List
    </h2>

    <!-- Add Department button -->
    <div class="flex justify-end mb-4">
        <a href="{% url 'department_add' %}"
           class="bg-violet-400 text-white px-5 py-2 rounded-lg
                  hover:bg-violet-500 transition text-sm font-medium shadow">
            + Add Department
        </a>
    </div>

    <!-- Messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="mb-4 p-3 rounded-lg
            {% if message.tags == 'success' %}
                bg-green-100 text-green-700
            {% else %}
                bg-red-100 text-red-700
            {% endif %}
        ">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <!-- Table -->
    <table class="w-full border border-violet-200 rounded-lg overflow-hidden">
        <tr class="bg-violet-200 text-violet-900">
          <th class="p-3 text-left">Department</th>
          <th class="p-3 text-center">Actions</th>
        </tr>

        {% for d in departments %}
        <tr class="bg-white hover:bg-violet-50 transition">
          <td class="p-3">{{ d.department_name }}</td>
          <td class="p-3 text-center">
            <a href="{% url 'department_edit' d.pk %}"
               class="text-violet-600 hover:underline font-medium">
               Edit
            </a>
            |
            <a href="{% url 'department_delete' d.pk %}"
               onclick="return confirm('Delete department?')"
               class="text-rose-500 hover:underline font-medium">
               Delete
            </a>
          </td>
        </tr>

        {% empty %}
        <tr>
          <td colspan="2" class="p-6 text-center text-violet-500">
            No departments found.
          </td>
        </tr>
        {% endfor %}
    </table>
<div class="mt-8 ml-6">
    <a href="{% url 'admin_home' %}"
       class="inline-flex items-center gap-2
              px-5 py-2 rounded-full
              bg-violet-200 text-violet-800
              hover:bg-violet-300 hover:text-violet-900
              transition shadow-sm font-medium text-sm">
        â† Back to Admin Home
    </a>
</div>

</div>

</div>
